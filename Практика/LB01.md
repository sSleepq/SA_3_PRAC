# Лабораторная работа №1  
**Тема:** Установка и базовая настройка Ubuntu Server  
**Оборудование:** Ubuntu Server, гипервизор VMware Workstation  

## Цель работы  
Освоить процесс развёртывания и базовой конфигурации сервера Ubuntu в виртуальной среде VMware Workstation.

## Ход работы

### 1. Настройка виртуальной машины в VMware Workstation

1. Запустите VMware Workstation.
2. Создайте новую виртуальную машину:
   - Выберите тип конфигурации: «Typical».
   - Укажите образ ISO с Ubuntu Server.
   - Задайте имя ВМ: `Ub-serv-ВашаФамилия`.
   - Выделите ресурсы:
     - ОЗУ: минимум 2 ГБ;
     - Процессор: 2 ядра;
     - Диск: 30 ГБ (формат VMDK, предварительно выделенный).
3. Настройте сетевые адаптеры:
   - **Сетевой адаптер 1**: тип `NAT` (для доступа в интернет).
   - **Сетевой адаптер 2**: тип `LAN Segment` (для внутренней сети).
4. Сохраните конфигурацию и запустите ВМ.

### 2. Чистая установка Ubuntu Server

1. В загрузочном меню выберите `Install Ubuntu Server`.
2. Следуйте мастеру установки:
   - Язык: English.
   - Keyboard configuration: US.
   - Network setup: оставьте автоматические настройки (DHCP для NAT-адаптера).
   - Storage: используйте всю доступную дисковую ёмкость (LVM по умолчанию).
   - Profile setup:
     - Имя сервера: `ubuntu` (будет изменено позже).
     - Имя пользователя: `admin` (временный аккаунт).
     - Пароль: надёжный пароль.
   - SSH: выключить установку OpenSSH server.
   - Завершите установку, перезагрузите ВМ.

### 3. Базовая настройка сервера

#### 3.1. Создание пользователя `userX`

Вместо X указать номер компьютера (стикер с цифрой на физическом устройстве) Для примера будет 13.  
После загрузки войдите под учётной записью `admin`. Выполните:

```bash
sudo adduser user13
```

Задайте пароль и заполните опциональные поля (можно пропустить). Добавьте пользователя в группу `sudo`:

```bash
sudo usermod -aG sudo user13
```

#### 3.2. Переименование устройства

Измените имя хоста:

```bash
sudo hostnamectl set-hostname ubuntu-server-isp
exec bash
```

Обновите файл `/etc/hosts`:

```bash
sudo nano /etc/hosts
```

Добавьте строку:
```
127.0.0.1       ubuntu-server-isp
```

#### 3.3. Обновление пакетов

Обновите список репозиториев и установленные пакеты:

```bash
sudo apt update
sudo apt upgrade -y
```

### 4. Настройка статического IP-адреса

Настроить айпи-адрес на втором интерфейсе устройства 10.10.x.1, где вместо x указывается номер компьютера.

#### 4.1. Определение имени второго интерфейса

Выполните:

```bash
ip -с a
```

Найдите интерфейс, подключённый к LAN Segment (например, `ens33`).

#### 4.2. Настройка Netplan

Отредактируйте конфигурационный файл(Наименование файла может отличаться):

```bash
sudo nano /etc/netplan/00-installer-config.yaml
```

Добавьте конфигурацию для второго интерфейса (пример для `ens33`):

```yaml
network:
  version: 2
  renderer: networkd
  ethernets:
    ens33:
      dhcp4: no
      addresses: [10.10.13.1/24]
```

> **Примечание:** Замените `ens33` на актуальное имя интерфейса. Адрес `10.10.13.1` соответствует номеру компьютера **13**.

#### 4.3. Применение настроек

Примените конфигурацию:

```bash
sudo netplan apply
```

### 5. Проверка работоспособности интерфейсов

#### 5.1. Проверка статуса интерфейсов

Выполните:

```bash
ip -с a
```

Убедитесь, что:
- NAT-интерфейс имеет IP-адрес (получен через DHCP).
- LAN-интерфейс имеет адрес `10.10.13.1`.

#### 5.2. Проверка связи

Проверьте выход в интернет (через NAT):

```bash
ping 8.8.8.8
```

#### 5.3. Проверка разрешения имён

Убедитесь, что DNS работает:

```bash
nslookup google.com
```

### 6. Установка Windows 10

#### 6.1 Настройка виртуальной машины

1. Запустите VMware Workstation.
2. Создайте новую виртуальную машину:
   - Выберите тип конфигурации: «Typical».
   - Укажите образ ISO с Windows 10.
   - Задайте имя ВМ: `Client-ВашаФамилия`.
   - Выделите ресурсы:
     - ОЗУ: минимум 4 ГБ;
     - Процессор: 4 ядра;
     - Диск: 75 ГБ (формат VMDK, предварительно выделенный).
3. Настройте сетевые адаптеры:
   - **Сетевой адаптер**: тип `LAN Segment` (для внутренней сети).
4. Сохраните конфигурацию и запустите ВМ.

#### 6.2 Настройка адресации

Настроить сетевой интерфейс на машине
- Выдайте ip-адресс из той же подсети, что и второй интерфейс Ubuntu server
- В качестве Шлюза по умолчанию указать Ip-адресс Ubuntu server (со стороны второго интерфейса)
- В качестве DNS указать Ip-адресс Ubuntu и 8.8.8.8

#### 6.3 Проверка связи

Выполнить команду ping в сторону Ubuntu Server

## Результаты работы

1. Виртуальная машина настроена с двумя сетевыми адаптерами (NAT и LAN Segment).
2. Установлена Ubuntu Server с OpenSSH.
3. Создан пользователь `User13` с правами sudo.
4. Имя хоста изменено на `ubuntu-server-isp`.
5. Пакеты обновлены до актуальных версий.
6. На втором интерфейсе настроен статический IP-адрес `10.10.13.1`.
7. Оба интерфейса работоспособны:
   - NAT обеспечивает доступ в интернет.
   - LAN Segment доступен в локальной сети.

## Выводы

В ходе лабораторной работы освоены:
- Развёртывание Ubuntu Server в VMware Workstation.
- Базовая конфигурация системы (пользователь, имя хоста, обновление).
- Настройка статического IP через Netplan.
- Проверка сетевой связности.

Работа выполнена успешно.
